<MudTable Items="@People" Hover="true" Breakpoint="Breakpoint.Sm">
	<ColGroup>
		<col style="width:300px;" />
		<col style="width:100px;" />
		<col />
		<col style="width:100px;" />
	</ColGroup>
	<HeaderContent>
		<MudTh></MudTh>
		<MudTh>Nr</MudTh>
		<MudTh>Name</MudTh>
		<MudTh>Price</MudTh>
	</HeaderContent>
	<RowTemplate>
		<MudTd><MudButton Variant="Variant.Outlined" Size="Size.Small" OnClick="@(() => ShowBtnPress(context.Number))">@((context.ShowDetails == true)? "Hide" : "Show") &nbsp; <strong>@context.Name</strong>s Order</MudButton></MudTd>
		<MudTd DataLabel="Nr">@context.Number</MudTd>
		<MudTd DataLabel="Name">@context.Name</MudTd>
		<MudTd DataLabel="Price">@context.Price</MudTd>
	</RowTemplate>
	<ChildRowContent>
		@if (context.ShowDetails)
				{
        <MudTr>
        <td colspan="4">
            <MudCard Elevation="0">
            <MudCardHeader>
            <CardHeaderContent>
            <MudText Typo="Typo.body1">Order Details for <strong>@context.Name</strong></MudText>
            </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent Class="pa-0">
            <MudTable Items="@context.Addresses" Context="AddressContext" Hover="true" Breakpoint="Breakpoint.Sm" Elevation="0">
            <ColGroup>
                <col />
                <col />
                <col style="width:200px;" />
            </ColGroup>
            <HeaderContent>
                <MudTh>Address Line 1</MudTh>
                <MudTh>Address Line 2</MudTh>
                <MudTh>Postal Code</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Address Line 1">@AddressContext.Address_Line_1</MudTd>
                <MudTd DataLabel="Address Line 2">@AddressContext.Address_Line_2</MudTd>
                <MudTd DataLabel="Postal Code">@AddressContext.Postal_Code</MudTd>
            </RowTemplate>
            </MudTable>
            </MudCardContent>
            </MudCard>
        </td>
        </MudTr>
		}
	</ChildRowContent>
</MudTable>

<MudButton Variant="Variant.Filled" Size="Size.Large"  Color="Color.Tertiary">Add Person</MudButton>
<MudButton Variant="Variant.Filled" Size="Size.Large"  Color="Color.Secondary">Pay For Order</MudButton>



@code
{
	protected override void OnInitialized()
	{
		FillPeople();
	}

	public class Address
	{
		public string Address_Line_1 { get; set; }
		public string Address_Line_2 { get; set; }
		public int Postal_Code { get; set; }
	}
	public class Person
	{
		public bool ShowDetails { get; set; }
		public int Number { get; set; }
		public string Name { get; set; }
		public int Price { get; set; }
		public IList<Address> Addresses { get; set; }
	}
	private void FillPeople()
	{
		IList<Person> people = new List<Person>();
		IList<Address> addresses = new List<Address>();
		addresses.Add(new Address { Address_Line_1 = "4 Privet Drive", Address_Line_2 = "Little Whinging", Postal_Code = 111 });
		addresses.Add(new Address { Address_Line_1 = "12 Grimmauld Place", Address_Line_2 = "The Burrow", Postal_Code = 333 });
		people.Add(new Person
		{
			ShowDetails = false,
			Number = 1,
			Name = "Kid_1",
			Price = 11,
			Addresses = addresses
		});
		People = people;
	}
	private static IEnumerable<Person> People { get; set; }

	private void ShowBtnPress(int nr)
	{
		Person tmpPerson = People.First(f => f.Number == nr);
		tmpPerson.ShowDetails = !tmpPerson.ShowDetails;
	}
}